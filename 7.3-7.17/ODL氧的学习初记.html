<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>ODL氧的学习初记</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="6pke" id="odl氧的学习初记">ODL氧的学习初记</h1><p data-anchor-id="qhsn"><code>SDNExp</code></p><hr><div class="md-section-divider"></div><h1 data-anchor-id="vzyu" id="karaf学习记录">karaf学习记录</h1><div class="md-section-divider"></div><h2 data-anchor-id="3p8p" id="安装">安装</h2><ul data-anchor-id="gfdg">
<li><p>博客云：<code>修改karafXXX\etc下的org.apache.karaf.management.cfg文件 ，将rmiRegistryHost 和 rmiServerHost 的值修改为127.0.0.1</code> <br>
我看了一下，下载下来就改好了，这个org.apache.karaf.management.cfg文件好像是一个配置文件</p></li>
<li><p>基本启动：run <code>./bin/karaf</code></p></li>
<li>安装feature:</li>
</ul><p data-anchor-id="fytc"><code>feature:install &lt;feature1&gt;</code>或者 <br>
<code>feature:install &lt;feature1&gt; &lt;feature2&gt; ... &lt;featureN-name&gt;</code></p><ul data-anchor-id="ar9y">
<li>列出feature</li>
</ul><p data-anchor-id="6m5z">列出所有：<code>feature:list</code></p><p data-anchor-id="lxd4">列出已安装：<code>feature:list -i</code></p><ul data-anchor-id="es4u">
<li>uninstalling feature</li>
</ul><p data-anchor-id="ekko"><code>To uninstall a feature, you must shut down OpenDaylight, delete the data directory, and start OpenDaylight up again</code> <br>
最好还执行一下<code>.\karaf clean</code></p><ul data-anchor-id="6agz">
<li>在win10中运行karaf</li>
</ul><p data-anchor-id="yw6q"><code>需要在etc/system.properties添加org.osgi.framework.os.name = Win32</code></p><div class="md-section-divider"></div><h1 data-anchor-id="n7cb" id="安装rest界面所需要的feature">安装REST界面所需要的feature</h1><p data-anchor-id="lj2i"><strong>这里要注意两点：1。按顺序装；2。每个feature的名字会因版本名字不同而有所有同，因此安装失败时就需要删除同个字母然后使用tab补全。</strong></p><p data-anchor-id="2pjf">(1)feature:install odl-restconf </p><p data-anchor-id="djik">(2)feature:install odl-l2switch-switch-ui</p><p data-anchor-id="97sa">(3)feature:install odl-openflowplugin-flow-services-rest</p><p data-anchor-id="31dn">(4)feature:install odl-mdsal-all </p><p data-anchor-id="xmcb">(5)feature:install odl-dluxapps-nodes odl-dluxapps-yangui odl-dluxapps-yangman odl-dluxapps-yangutils odl-dluxapps-applications odl-dluxapps-yangvisualizer</p><div class="md-section-divider"></div><h1 data-anchor-id="vym1" id="构建子项目">构建子项目</h1><ul data-anchor-id="mozw">
<li>配好maven，java <br>
<ol><li>maven配置样例</li></ol></li>
</ul><p data-anchor-id="tkbt">安装配置： <br>
1. 对解压目录里添加环境变量M2_HOME <br>
2. 对添加path:%M2_HOME%\bin <br>
3. 更换M2_HOME/conf/setting.xml文件为以下内容。 <br>
4. 更改local repository的内容为你要存repository的目录。</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="nfw6"><ol class="linenums"><li class="L0"><code class="language-xml"><span class="pun">&lt;?</span><span class="pln">xml version</span><span class="pun">=</span><span class="str">"1.0"</span><span class="pln"> encoding</span><span class="pun">=</span><span class="str">"UTF-8"</span><span class="pun">?&gt;</span></code></li><li class="L1"><code class="language-xml"></code></li><li class="L2"><code class="language-xml"><span class="com">&lt;!--</span></code></li><li class="L3"><code class="language-xml"><span class="com">Licensed to the Apache Software Foundation (ASF) under one</span></code></li><li class="L4"><code class="language-xml"><span class="com">or more contributor license agreements.  See the NOTICE file</span></code></li><li class="L5"><code class="language-xml"><span class="com">distributed with this work for additional information</span></code></li><li class="L6"><code class="language-xml"><span class="com">regarding copyright ownership.  The ASF licenses this file</span></code></li><li class="L7"><code class="language-xml"><span class="com">to you under the Apache License, Version 2.0 (the</span></code></li><li class="L8"><code class="language-xml"><span class="com">"License"); you may not use this file except in compliance</span></code></li><li class="L9"><code class="language-xml"><span class="com">with the License.  You may obtain a copy of the License at</span></code></li><li class="L0"><code class="language-xml"></code></li><li class="L1"><code class="language-xml"><span class="com">    http://www.apache.org/licenses/LICENSE-2.0</span></code></li><li class="L2"><code class="language-xml"></code></li><li class="L3"><code class="language-xml"><span class="com">Unless required by applicable law or agreed to in writing,</span></code></li><li class="L4"><code class="language-xml"><span class="com">software distributed under the License is distributed on an</span></code></li><li class="L5"><code class="language-xml"><span class="com">"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY</span></code></li><li class="L6"><code class="language-xml"><span class="com">KIND, either express or implied.  See the License for the</span></code></li><li class="L7"><code class="language-xml"><span class="com">specific language governing permissions and limitations</span></code></li><li class="L8"><code class="language-xml"><span class="com">under the License.</span></code></li><li class="L9"><code class="language-xml"><span class="com">--&gt;</span></code></li><li class="L0"><code class="language-xml"></code></li><li class="L1"><code class="language-xml"><span class="com">&lt;!--</span></code></li><li class="L2"><code class="language-xml"><span class="com"> | This is the configuration file for Maven. It can be specified at two levels:</span></code></li><li class="L3"><code class="language-xml"><span class="com"> |</span></code></li><li class="L4"><code class="language-xml"><span class="com"> |  1. User Level. This settings.xml file provides configuration for a single user,</span></code></li><li class="L5"><code class="language-xml"><span class="com"> |                 and is normally provided in ${user.home}/.m2/settings.xml.</span></code></li><li class="L6"><code class="language-xml"><span class="com"> |</span></code></li><li class="L7"><code class="language-xml"><span class="com"> |                 NOTE: This location can be overridden with the CLI option:</span></code></li><li class="L8"><code class="language-xml"><span class="com"> |</span></code></li><li class="L9"><code class="language-xml"><span class="com"> |                 -s /path/to/user/settings.xml</span></code></li><li class="L0"><code class="language-xml"><span class="com"> |</span></code></li><li class="L1"><code class="language-xml"><span class="com"> |  2. Global Level. This settings.xml file provides configuration for all Maven</span></code></li><li class="L2"><code class="language-xml"><span class="com"> |                 users on a machine (assuming they're all using the same Maven</span></code></li><li class="L3"><code class="language-xml"><span class="com"> |                 installation). It's normally provided in</span></code></li><li class="L4"><code class="language-xml"><span class="com"> |                 ${maven.conf}/settings.xml.</span></code></li><li class="L5"><code class="language-xml"><span class="com"> |</span></code></li><li class="L6"><code class="language-xml"><span class="com"> |                 NOTE: This location can be overridden with the CLI option:</span></code></li><li class="L7"><code class="language-xml"><span class="com"> |</span></code></li><li class="L8"><code class="language-xml"><span class="com"> |                 -gs /path/to/global/settings.xml</span></code></li><li class="L9"><code class="language-xml"><span class="com"> |</span></code></li><li class="L0"><code class="language-xml"><span class="com"> | The sections in this sample file are intended to give you a running start at</span></code></li><li class="L1"><code class="language-xml"><span class="com"> | getting the most out of your Maven installation. Where appropriate, the default</span></code></li><li class="L2"><code class="language-xml"><span class="com"> | values (values used when the setting is not specified) are provided.</span></code></li><li class="L3"><code class="language-xml"><span class="com"> |</span></code></li><li class="L4"><code class="language-xml"><span class="com"> |--&gt;</span></code></li><li class="L5"><code class="language-xml"><span class="tag">&lt;settings</span><span class="pln"> </span><span class="atn">xmlns</span><span class="pun">=</span><span class="atv">"http://maven.apache.org/SETTINGS/1.0.0"</span></code></li><li class="L6"><code class="language-xml"><span class="pln">          </span><span class="atn">xmlns:xsi</span><span class="pun">=</span><span class="atv">"http://www.w3.org/2001/XMLSchema-instance"</span></code></li><li class="L7"><code class="language-xml"><span class="pln">          </span><span class="atn">xsi:schemaLocation</span><span class="pun">=</span><span class="atv">"http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd"</span><span class="tag">&gt;</span></code></li><li class="L8"><code class="language-xml"><span class="pln">  </span><span class="com">&lt;!-- localRepository</span></code></li><li class="L9"><code class="language-xml"><span class="com">   | The path to the local repository maven will use to store artifacts.</span></code></li><li class="L0"><code class="language-xml"><span class="com">   |</span></code></li><li class="L1"><code class="language-xml"><span class="com">   | Default: ${user.home}/.m2/repository</span></code></li><li class="L2"><code class="language-xml"><span class="com">  --&gt;</span></code></li><li class="L3"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;localRepository&gt;</span><span class="pln">/home/zhiyifang/下载/SDN/repository</span><span class="tag">&lt;/localRepository&gt;</span></code></li><li class="L4"><code class="language-xml"></code></li><li class="L5"><code class="language-xml"><span class="pln">  </span><span class="com">&lt;!-- interactiveMode</span></code></li><li class="L6"><code class="language-xml"><span class="com">   | This will determine whether maven prompts you when it needs input. If set to false,</span></code></li><li class="L7"><code class="language-xml"><span class="com">   | maven will use a sensible default value, perhaps based on some other setting, for</span></code></li><li class="L8"><code class="language-xml"><span class="com">   | the parameter in question.</span></code></li><li class="L9"><code class="language-xml"><span class="com">   |</span></code></li><li class="L0"><code class="language-xml"><span class="com">   | Default: true</span></code></li><li class="L1"><code class="language-xml"><span class="com">  &lt;interactiveMode&gt;true&lt;/interactiveMode&gt;</span></code></li><li class="L2"><code class="language-xml"><span class="com">  --&gt;</span></code></li><li class="L3"><code class="language-xml"></code></li><li class="L4"><code class="language-xml"><span class="pln">  </span><span class="com">&lt;!-- offline</span></code></li><li class="L5"><code class="language-xml"><span class="com">   | Determines whether maven should attempt to connect to the network when executing a build.</span></code></li><li class="L6"><code class="language-xml"><span class="com">   | This will have an effect on artifact downloads, artifact deployment, and others.</span></code></li><li class="L7"><code class="language-xml"><span class="com">   |</span></code></li><li class="L8"><code class="language-xml"><span class="com">   | Default: false</span></code></li><li class="L9"><code class="language-xml"><span class="com">  &lt;offline&gt;false&lt;/offline&gt;</span></code></li><li class="L0"><code class="language-xml"><span class="com">  --&gt;</span></code></li><li class="L1"><code class="language-xml"></code></li><li class="L2"><code class="language-xml"><span class="pln">  </span><span class="com">&lt;!-- pluginGroups</span></code></li><li class="L3"><code class="language-xml"><span class="com">   | This is a list of additional group identifiers that will be searched when resolving plugins by their prefix, i.e.</span></code></li><li class="L4"><code class="language-xml"><span class="com">   | when invoking a command line like "mvn prefix:goal". Maven will automatically add the group identifiers</span></code></li><li class="L5"><code class="language-xml"><span class="com">   | "org.apache.maven.plugins" and "org.codehaus.mojo" if these are not already contained in the list.</span></code></li><li class="L6"><code class="language-xml"><span class="com">   |--&gt;</span></code></li><li class="L7"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;pluginGroups&gt;</span></code></li><li class="L8"><code class="language-xml"><span class="pln">    </span><span class="com">&lt;!-- pluginGroup</span></code></li><li class="L9"><code class="language-xml"><span class="com">     | Specifies a further group identifier to use for plugin lookup.</span></code></li><li class="L0"><code class="language-xml"><span class="com">    &lt;pluginGroup&gt;com.your.plugins&lt;/pluginGroup&gt;</span></code></li><li class="L1"><code class="language-xml"><span class="com">    --&gt;</span></code></li><li class="L2"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;/pluginGroups&gt;</span></code></li><li class="L3"><code class="language-xml"></code></li><li class="L4"><code class="language-xml"><span class="pln">  </span><span class="com">&lt;!-- proxies</span></code></li><li class="L5"><code class="language-xml"><span class="com">   | This is a list of proxies which can be used on this machine to connect to the network.</span></code></li><li class="L6"><code class="language-xml"><span class="com">   | Unless otherwise specified (by system property or command-line switch), the first proxy</span></code></li><li class="L7"><code class="language-xml"><span class="com">   | specification in this list marked as active will be used.</span></code></li><li class="L8"><code class="language-xml"><span class="com">   |--&gt;</span></code></li><li class="L9"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;proxies&gt;</span></code></li><li class="L0"><code class="language-xml"><span class="pln">    </span><span class="com">&lt;!-- proxy</span></code></li><li class="L1"><code class="language-xml"><span class="com">     | Specification for one proxy, to be used in connecting to the network.</span></code></li><li class="L2"><code class="language-xml"><span class="com">     |</span></code></li><li class="L3"><code class="language-xml"><span class="com">    &lt;proxy&gt;</span></code></li><li class="L4"><code class="language-xml"><span class="com">      &lt;id&gt;optional&lt;/id&gt;</span></code></li><li class="L5"><code class="language-xml"><span class="com">      &lt;active&gt;true&lt;/active&gt;</span></code></li><li class="L6"><code class="language-xml"><span class="com">      &lt;protocol&gt;http&lt;/protocol&gt;</span></code></li><li class="L7"><code class="language-xml"><span class="com">      &lt;username&gt;proxyuser&lt;/username&gt;</span></code></li><li class="L8"><code class="language-xml"><span class="com">      &lt;password&gt;proxypass&lt;/password&gt;</span></code></li><li class="L9"><code class="language-xml"><span class="com">      &lt;host&gt;proxy.host.net&lt;/host&gt;</span></code></li><li class="L0"><code class="language-xml"><span class="com">      &lt;port&gt;80&lt;/port&gt;</span></code></li><li class="L1"><code class="language-xml"><span class="com">      &lt;nonProxyHosts&gt;local.net|some.host.com&lt;/nonProxyHosts&gt;</span></code></li><li class="L2"><code class="language-xml"><span class="com">    &lt;/proxy&gt;</span></code></li><li class="L3"><code class="language-xml"><span class="com">    --&gt;</span></code></li><li class="L4"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;/proxies&gt;</span></code></li><li class="L5"><code class="language-xml"></code></li><li class="L6"><code class="language-xml"><span class="pln">  </span><span class="com">&lt;!-- servers</span></code></li><li class="L7"><code class="language-xml"><span class="com">   | This is a list of authentication profiles, keyed by the server-id used within the system.</span></code></li><li class="L8"><code class="language-xml"><span class="com">   | Authentication profiles can be used whenever maven must make a connection to a remote server.</span></code></li><li class="L9"><code class="language-xml"><span class="com">   |--&gt;</span></code></li><li class="L0"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;servers&gt;</span></code></li><li class="L1"><code class="language-xml"><span class="pln">    </span><span class="com">&lt;!-- server</span></code></li><li class="L2"><code class="language-xml"><span class="com">     | Specifies the authentication information to use when connecting to a particular server, identified by</span></code></li><li class="L3"><code class="language-xml"><span class="com">     | a unique name within the system (referred to by the 'id' attribute below).</span></code></li><li class="L4"><code class="language-xml"><span class="com">     |</span></code></li><li class="L5"><code class="language-xml"><span class="com">     | NOTE: You should either specify username/password OR privateKey/passphrase, since these pairings are</span></code></li><li class="L6"><code class="language-xml"><span class="com">     |       used together.</span></code></li><li class="L7"><code class="language-xml"><span class="com">     |</span></code></li><li class="L8"><code class="language-xml"><span class="com">    &lt;server&gt;</span></code></li><li class="L9"><code class="language-xml"><span class="com">      &lt;id&gt;deploymentRepo&lt;/id&gt;</span></code></li><li class="L0"><code class="language-xml"><span class="com">      &lt;username&gt;repouser&lt;/username&gt;</span></code></li><li class="L1"><code class="language-xml"><span class="com">      &lt;password&gt;repopwd&lt;/password&gt;</span></code></li><li class="L2"><code class="language-xml"><span class="com">    &lt;/server&gt;</span></code></li><li class="L3"><code class="language-xml"><span class="com">    --&gt;</span></code></li><li class="L4"><code class="language-xml"></code></li><li class="L5"><code class="language-xml"><span class="pln">    </span><span class="com">&lt;!-- Another sample, using keys to authenticate.</span></code></li><li class="L6"><code class="language-xml"><span class="com">    &lt;server&gt;</span></code></li><li class="L7"><code class="language-xml"><span class="com">      &lt;id&gt;siteServer&lt;/id&gt;</span></code></li><li class="L8"><code class="language-xml"><span class="com">      &lt;privateKey&gt;/path/to/private/key&lt;/privateKey&gt;</span></code></li><li class="L9"><code class="language-xml"><span class="com">      &lt;passphrase&gt;optional; leave empty if not used.&lt;/passphrase&gt;</span></code></li><li class="L0"><code class="language-xml"><span class="com">    &lt;/server&gt;</span></code></li><li class="L1"><code class="language-xml"><span class="com">    --&gt;</span></code></li><li class="L2"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;/servers&gt;</span></code></li><li class="L3"><code class="language-xml"></code></li><li class="L4"><code class="language-xml"><span class="pln">  </span><span class="com">&lt;!-- mirrors</span></code></li><li class="L5"><code class="language-xml"><span class="com">   | This is a list of mirrors to be used in downloading artifacts from remote repositories.</span></code></li><li class="L6"><code class="language-xml"><span class="com">   |</span></code></li><li class="L7"><code class="language-xml"><span class="com">   | It works like this: a POM may declare a repository to use in resolving certain artifacts.</span></code></li><li class="L8"><code class="language-xml"><span class="com">   | However, this repository may have problems with heavy traffic at times, so people have mirrored</span></code></li><li class="L9"><code class="language-xml"><span class="com">   | it to several places.</span></code></li><li class="L0"><code class="language-xml"><span class="com">   |</span></code></li><li class="L1"><code class="language-xml"><span class="com">   | That repository definition will have a unique id, so we can create a mirror reference for that</span></code></li><li class="L2"><code class="language-xml"><span class="com">   | repository, to be used as an alternate download site. The mirror site will be the preferred</span></code></li><li class="L3"><code class="language-xml"><span class="com">   | server for that repository.</span></code></li><li class="L4"><code class="language-xml"><span class="com">   |--&gt;</span></code></li><li class="L5"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;mirrors&gt;</span></code></li><li class="L6"><code class="language-xml"><span class="pln">    </span><span class="com">&lt;!-- mirror</span></code></li><li class="L7"><code class="language-xml"><span class="com">     | Specifies a repository mirror site to use instead of a given repository. The repository that</span></code></li><li class="L8"><code class="language-xml"><span class="com">     | this mirror serves has an ID that matches the mirrorOf element of this mirror. IDs are used</span></code></li><li class="L9"><code class="language-xml"><span class="com">     | for inheritance and direct lookup purposes, and must be unique across the set of mirrors.</span></code></li><li class="L0"><code class="language-xml"><span class="com">     |</span></code></li><li class="L1"><code class="language-xml"><span class="com">    &lt;mirror&gt;</span></code></li><li class="L2"><code class="language-xml"><span class="com">      &lt;id&gt;mirrorId&lt;/id&gt;</span></code></li><li class="L3"><code class="language-xml"><span class="com">      &lt;mirrorOf&gt;repositoryId&lt;/mirrorOf&gt;</span></code></li><li class="L4"><code class="language-xml"><span class="com">      &lt;name&gt;Human Readable Name for this Mirror.&lt;/name&gt;</span></code></li><li class="L5"><code class="language-xml"><span class="com">      &lt;url&gt;http://my.repository.com/repo/path&lt;/url&gt;</span></code></li><li class="L6"><code class="language-xml"><span class="com">    &lt;/mirror&gt;</span></code></li><li class="L7"><code class="language-xml"><span class="com">     --&gt;</span></code></li><li class="L8"><code class="language-xml"></code></li><li class="L9"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;/mirrors&gt;</span></code></li><li class="L0"><code class="language-xml"></code></li><li class="L1"><code class="language-xml"><span class="pln">  </span><span class="com">&lt;!-- profiles</span></code></li><li class="L2"><code class="language-xml"><span class="com">   | This is a list of profiles which can be activated in a variety of ways, and which can modify</span></code></li><li class="L3"><code class="language-xml"><span class="com">   | the build process. Profiles provided in the settings.xml are intended to provide local machine-</span></code></li><li class="L4"><code class="language-xml"><span class="com">   | specific paths and repository locations which allow the build to work in the local environment.</span></code></li><li class="L5"><code class="language-xml"><span class="com">   |</span></code></li><li class="L6"><code class="language-xml"><span class="com">   | For example, if you have an integration testing plugin - like cactus - that needs to know where</span></code></li><li class="L7"><code class="language-xml"><span class="com">   | your Tomcat instance is installed, you can provide a variable here such that the variable is</span></code></li><li class="L8"><code class="language-xml"><span class="com">   | dereferenced during the build process to configure the cactus plugin.</span></code></li><li class="L9"><code class="language-xml"><span class="com">   |</span></code></li><li class="L0"><code class="language-xml"><span class="com">   | As noted above, profiles can be activated in a variety of ways. One way - the activeProfiles</span></code></li><li class="L1"><code class="language-xml"><span class="com">   | section of this document (settings.xml) - will be discussed later. Another way essentially</span></code></li><li class="L2"><code class="language-xml"><span class="com">   | relies on the detection of a system property, either matching a particular value for the property,</span></code></li><li class="L3"><code class="language-xml"><span class="com">   | or merely testing its existence. Profiles can also be activated by JDK version prefix, where a</span></code></li><li class="L4"><code class="language-xml"><span class="com">   | value of '1.4' might activate a profile when the build is executed on a JDK version of '1.4.2_07'.</span></code></li><li class="L5"><code class="language-xml"><span class="com">   | Finally, the list of active profiles can be specified directly from the command line.</span></code></li><li class="L6"><code class="language-xml"><span class="com">   |</span></code></li><li class="L7"><code class="language-xml"><span class="com">   | NOTE: For profiles defined in the settings.xml, you are restricted to specifying only artifact</span></code></li><li class="L8"><code class="language-xml"><span class="com">   |       repositories, plugin repositories, and free-form properties to be used as configuration</span></code></li><li class="L9"><code class="language-xml"><span class="com">   |       variables for plugins in the POM.</span></code></li><li class="L0"><code class="language-xml"><span class="com">   |</span></code></li><li class="L1"><code class="language-xml"><span class="com">   |--&gt;</span></code></li><li class="L2"><code class="language-xml"></code></li><li class="L3"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;profiles&gt;</span></code></li><li class="L4"><code class="language-xml"><span class="pln">    </span><span class="tag">&lt;profile&gt;</span></code></li><li class="L5"><code class="language-xml"><span class="pln">      </span><span class="tag">&lt;id&gt;</span><span class="pln">opendaylight-release</span><span class="tag">&lt;/id&gt;</span></code></li><li class="L6"><code class="language-xml"><span class="pln">      </span><span class="tag">&lt;repositories&gt;</span></code></li><li class="L7"><code class="language-xml"><span class="pln">        </span><span class="tag">&lt;repository&gt;</span></code></li><li class="L8"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;id&gt;</span><span class="pln">opendaylight-mirror</span><span class="tag">&lt;/id&gt;</span></code></li><li class="L9"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;name&gt;</span><span class="pln">opendaylight-mirror</span><span class="tag">&lt;/name&gt;</span></code></li><li class="L0"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;url&gt;</span><span class="pln">https://nexus.opendaylight.org/content/repositories/public/</span><span class="tag">&lt;/url&gt;</span></code></li><li class="L1"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;releases&gt;</span></code></li><li class="L2"><code class="language-xml"><span class="pln">            </span><span class="tag">&lt;enabled&gt;</span><span class="pln">true</span><span class="tag">&lt;/enabled&gt;</span></code></li><li class="L3"><code class="language-xml"><span class="pln">            </span><span class="tag">&lt;updatePolicy&gt;</span><span class="pln">never</span><span class="tag">&lt;/updatePolicy&gt;</span></code></li><li class="L4"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;/releases&gt;</span></code></li><li class="L5"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;snapshots&gt;</span></code></li><li class="L6"><code class="language-xml"><span class="pln">            </span><span class="tag">&lt;enabled&gt;</span><span class="pln">false</span><span class="tag">&lt;/enabled&gt;</span></code></li><li class="L7"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;/snapshots&gt;</span></code></li><li class="L8"><code class="language-xml"><span class="pln">        </span><span class="tag">&lt;/repository&gt;</span></code></li><li class="L9"><code class="language-xml"><span class="pln">      </span><span class="tag">&lt;/repositories&gt;</span></code></li><li class="L0"><code class="language-xml"><span class="pln">      </span><span class="tag">&lt;pluginRepositories&gt;</span></code></li><li class="L1"><code class="language-xml"><span class="pln">        </span><span class="tag">&lt;pluginRepository&gt;</span></code></li><li class="L2"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;id&gt;</span><span class="pln">opendaylight-mirror</span><span class="tag">&lt;/id&gt;</span></code></li><li class="L3"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;name&gt;</span><span class="pln">opendaylight-mirror</span><span class="tag">&lt;/name&gt;</span></code></li><li class="L4"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;url&gt;</span><span class="pln">https://nexus.opendaylight.org/content/repositories/public/</span><span class="tag">&lt;/url&gt;</span></code></li><li class="L5"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;releases&gt;</span></code></li><li class="L6"><code class="language-xml"><span class="pln">            </span><span class="tag">&lt;enabled&gt;</span><span class="pln">true</span><span class="tag">&lt;/enabled&gt;</span></code></li><li class="L7"><code class="language-xml"><span class="pln">            </span><span class="tag">&lt;updatePolicy&gt;</span><span class="pln">never</span><span class="tag">&lt;/updatePolicy&gt;</span></code></li><li class="L8"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;/releases&gt;</span></code></li><li class="L9"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;snapshots&gt;</span></code></li><li class="L0"><code class="language-xml"><span class="pln">            </span><span class="tag">&lt;enabled&gt;</span><span class="pln">false</span><span class="tag">&lt;/enabled&gt;</span></code></li><li class="L1"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;/snapshots&gt;</span></code></li><li class="L2"><code class="language-xml"><span class="pln">        </span><span class="tag">&lt;/pluginRepository&gt;</span></code></li><li class="L3"><code class="language-xml"><span class="pln">      </span><span class="tag">&lt;/pluginRepositories&gt;</span></code></li><li class="L4"><code class="language-xml"><span class="pln">    </span><span class="tag">&lt;/profile&gt;</span></code></li><li class="L5"><code class="language-xml"></code></li><li class="L6"><code class="language-xml"><span class="pln">    </span><span class="tag">&lt;profile&gt;</span></code></li><li class="L7"><code class="language-xml"><span class="pln">      </span><span class="tag">&lt;id&gt;</span><span class="pln">opendaylight-snapshots</span><span class="tag">&lt;/id&gt;</span></code></li><li class="L8"><code class="language-xml"><span class="pln">      </span><span class="tag">&lt;repositories&gt;</span></code></li><li class="L9"><code class="language-xml"><span class="pln">        </span><span class="tag">&lt;repository&gt;</span></code></li><li class="L0"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;id&gt;</span><span class="pln">opendaylight-snapshot</span><span class="tag">&lt;/id&gt;</span></code></li><li class="L1"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;name&gt;</span><span class="pln">opendaylight-snapshot</span><span class="tag">&lt;/name&gt;</span></code></li><li class="L2"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;url&gt;</span><span class="pln">https://nexus.opendaylight.org/content/repositories/opendaylight.snapshot/</span><span class="tag">&lt;/url&gt;</span></code></li><li class="L3"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;releases&gt;</span></code></li><li class="L4"><code class="language-xml"><span class="pln">            </span><span class="tag">&lt;enabled&gt;</span><span class="pln">false</span><span class="tag">&lt;/enabled&gt;</span></code></li><li class="L5"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;/releases&gt;</span></code></li><li class="L6"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;snapshots&gt;</span></code></li><li class="L7"><code class="language-xml"><span class="pln">            </span><span class="tag">&lt;enabled&gt;</span><span class="pln">true</span><span class="tag">&lt;/enabled&gt;</span></code></li><li class="L8"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;/snapshots&gt;</span></code></li><li class="L9"><code class="language-xml"><span class="pln">        </span><span class="tag">&lt;/repository&gt;</span></code></li><li class="L0"><code class="language-xml"><span class="pln">      </span><span class="tag">&lt;/repositories&gt;</span></code></li><li class="L1"><code class="language-xml"><span class="pln">      </span><span class="tag">&lt;pluginRepositories&gt;</span></code></li><li class="L2"><code class="language-xml"><span class="pln">        </span><span class="tag">&lt;pluginRepository&gt;</span></code></li><li class="L3"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;id&gt;</span><span class="pln">opendaylight-snapshot</span><span class="tag">&lt;/id&gt;</span></code></li><li class="L4"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;name&gt;</span><span class="pln">opendaylight-snapshot</span><span class="tag">&lt;/name&gt;</span></code></li><li class="L5"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;url&gt;</span><span class="pln">https://nexus.opendaylight.org/content/repositories/opendaylight.snapshot/</span><span class="tag">&lt;/url&gt;</span></code></li><li class="L6"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;releases&gt;</span></code></li><li class="L7"><code class="language-xml"><span class="pln">            </span><span class="tag">&lt;enabled&gt;</span><span class="pln">false</span><span class="tag">&lt;/enabled&gt;</span></code></li><li class="L8"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;/releases&gt;</span></code></li><li class="L9"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;snapshots&gt;</span></code></li><li class="L0"><code class="language-xml"><span class="pln">            </span><span class="tag">&lt;enabled&gt;</span><span class="pln">true</span><span class="tag">&lt;/enabled&gt;</span></code></li><li class="L1"><code class="language-xml"><span class="pln">          </span><span class="tag">&lt;/snapshots&gt;</span></code></li><li class="L2"><code class="language-xml"><span class="pln">        </span><span class="tag">&lt;/pluginRepository&gt;</span></code></li><li class="L3"><code class="language-xml"><span class="pln">      </span><span class="tag">&lt;/pluginRepositories&gt;</span></code></li><li class="L4"><code class="language-xml"><span class="pln">    </span><span class="tag">&lt;/profile&gt;</span></code></li><li class="L5"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;/profiles&gt;</span></code></li><li class="L6"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;activeProfiles&gt;</span></code></li><li class="L7"><code class="language-xml"><span class="pln">    </span><span class="tag">&lt;activeProfile&gt;</span><span class="pln">opendaylight-release</span><span class="tag">&lt;/activeProfile&gt;</span></code></li><li class="L8"><code class="language-xml"><span class="pln">    </span><span class="tag">&lt;activeProfile&gt;</span><span class="pln">opendaylight-snapshots</span><span class="tag">&lt;/activeProfile&gt;</span></code></li><li class="L9"><code class="language-xml"><span class="pln">  </span><span class="tag">&lt;/activeProfiles&gt;</span></code></li><li class="L0"><code class="language-xml"></code></li><li class="L1"><code class="language-xml"><span class="tag">&lt;/settings&gt;</span></code></li></ol></pre><ul data-anchor-id="toos">
<li><p>java配置 <br>
变量名：JAVA_HOME <br>
变量值：C:\Program Files (x86)\Java\jdk1.8.0_91        // 要根据自己的实际路径配置 <br>
变量名：CLASSPATH <br>
变量值：.;%JAVA_HOME%\lib\dt.jar;%JAVA_HOME%\lib\tools.jar;         //记得前面有个"." <br>
变量名：Path <br>
变量值：%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;</p></li>
<li><p>构建子项目的命令：</p>

<ol><li>命令行中输：</li></ol></li>
</ul><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="3pix"><ol class="linenums"><li class="L0"><code><span class="pln">mvn archetype</span><span class="pun">:</span><span class="pln">generate </span><span class="pun">-</span><span class="typ">DarchetypeGroupId</span><span class="pun">=</span><span class="pln">org</span><span class="pun">.</span><span class="pln">opendaylight</span><span class="pun">.</span><span class="pln">controller </span><span class="pun">-</span><span class="typ">DarchetypeArtifactId</span><span class="pun">=</span><span class="pln">opendaylight</span><span class="pun">-</span><span class="pln">startup</span><span class="pun">-</span><span class="pln">archetype </span><span class="pun">-</span><span class="typ">DarchetypeRepository</span><span class="pun">=</span><span class="pln">http</span><span class="pun">:</span><span class="com">//nexus.opendaylight.org/content/repositories/opendaylight.release -DarchetypeCatalog=remote -DarchetypeVersion=1.3.0-Carbon</span></code></li></ol></pre><p data-anchor-id="hm1m">要构建不同的版本时，只要最后的版本号换成相应的就可以了。 <br>
2. 编译 命令</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="e5vo"><ol class="linenums"><li class="L0"><code><span class="pln">mvn clean install </span><span class="pun">-</span><span class="typ">DskipTests</span><span class="pln"> </span><span class="com">//(清理，安装，跳过测试)</span></code></li></ol></pre><p data-anchor-id="moia">成功即可到：karaf/target/assembly/bin/karaf 进行运行。</p><div class="md-section-divider"></div><h2 data-anchor-id="fekk" id="将建好的子项目安装到karaf">将建好的子项目安装到karaf</h2><p data-anchor-id="nj4o">假如你构建的项目为：org.odl.test <br>
你的karaf安装根目录的karaf <br>
那么： <br>
1. 将maven仓库里的mvnRepo/org/odl/test文件夹复制到karaf/system/org/opendaylight/里； <br>
2. 启动安装的karaf <br>
3. 输入：feature:repo-add mvn:org.opendaylight.test/test-features/0.1.0-SNAPSHOT/xml/features  <br>
这里最后面有个/xml/features不知道什么意思，不过大家都这样做。 <br>
4. 使用feature安装test:feature:install odl-test <br>
5. 查看是否安装：feature:list -i | grep test <br>
6. 安装好子后在webUI里面即可找到我们的test项目。 <br>
6. 如果要移除，则使用：feature:repo-remove mvn:org.opendaylight.hello/hello-features/0.1.0-SNAPSHOT/xml/features</p></div>
</body>
</html>