DDoS attack has brought significant damage to the current network in recent years, and the SYN flooding attack is deeply appreciated by attackers for the reason of it's indistinguishable packets. With the development of SDN and machine learning technology,this paper aim at  mitigating the attack by the combination of them. We proposed using SDN controller to collect global network state information of legitimate traffic and calculating the feature vector, and utilizing the random forest algorithm for model training. The well trained model can be used to monitor the net work status and will extract the characteristics of illegitimate packets if abnormal traffic appeared. The former extracted characteristics is significant for the discarding of attack traffic by utilizing the global controllability of SDN controller. The experiments showed that this approach can discard most of the attack traffic and works well for the defending of SYN flooding attack.The network enviroment will be more secure and stable were this method widespread used.